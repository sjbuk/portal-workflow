<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    
<script>
    $.ajax({
        type: 'GET',
        // TODO: Your URL will be different to the one below.
        // Use the OData REST API Configuration page on the K2 Management site to determine base URL
        // then append the SmartObject system name
        url: 'https://k2dev.sarasin.co.uk/api/odata/v3/Sales_Force_Companies',
        dataType: 'json',
        // As CORS is used, this must be set to true
        crossDomain: true,
        // Basic authentication is set in the header, enter appropriate user name and password for your environment.
        // The xhr (XMLHttpRequest) function below sends authorization details to the server.
        // This line creates a hash of the user name and password:
        // window.btoa(unescape(encodeURIComponent("[USERNAME]" + ':' + "[PASSWORD]")))
        withCredentials: true,
        beforeSend: function(xhr) {
            //xhr.setRequestHeader('Authorization', 'Basic ' + window.btoa(unescape(encodeURIComponent("sarasin\\sbonnell" + ':' + "Becky-2021"))));
            xhr.setRequestHeader("Content-Type", "application/json; charset=UTF-8");
        },
        // On success, we write a 'success' message to the console and stringify the returned JSON to display,
        // for example, in the <div id="t1"><div> tag on a web page
        success: function(json_data) {
            console.log('success');
            $("#tl").html(JSON.stringify(json_data));
        },
        // In case of error, show an alert
        error: function() {
            alert('Failed!');
        }})
    </script>
</body>
</html>